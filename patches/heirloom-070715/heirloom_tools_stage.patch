diff -r orig/build/mk.config heirloom-070715/build/mk.config
9c9
< SHELL = /bin/sh
---
> SHELL = sh
22c22
< ROOT =
---
> ROOT = /dsk/0v/usr/src/cmp/heirloom-070715/tools
28c28
< DEFBIN = /usr/5bin
---
> DEFBIN = /bin
33c33,34
< SV3BIN = /usr/5bin
---
> #SV3BIN = /usr/5bin
> SV3BIN = /bin
38c39,40
< S42BIN = /usr/5bin/s42
---
> #S42BIN = /usr/5bin/s42
> S42BIN = /bin
43c45,46
< SUSBIN = /usr/5bin/posix
---
> #SUSBIN = /usr/5bin/posix
> SUSBIN = /bin
47c50,51
< SU3BIN = /usr/5bin/posix2001
---
> #SU3BIN = /usr/5bin/posix2001
> SU3BIN = /bin
54c58,59
< UCBBIN = /usr/ucb
---
> #UCBBIN = /usr/ucb/bin
> UCBBIN = /bin
62c67,68
< CCSBIN = /usr/ccs/bin
---
> #CCSBIN = /usr/ccs/bin
> CCSBIN = /bin
67c73,74
< DEFLIB = /usr/5lib
---
> #DEFLIB = /usr/5lib
> DEFLIB = /lib
73c80,81
< DEFSBIN = /usr/5bin
---
> #DEFSBIN = /sbin
> DEFSBIN = /bin
78c86
< MANDIR = /usr/share/man/5man
---
> MANDIR = /usr/man
124c132
< LCURS = -lcurses
---
> LCURS = -L/tools/lib -lcurses
147c155
< USE_ZLIB = 1
---
> USE_ZLIB = 0
161c169
< CC = cc
---
> CC = gcc
163c171
< WARN=
---
> #WARN=
166c174
< LDFLAGS =
---
> LDFLAGS = -I/tools/lib
177c185
< CPPFLAGS = -D_GNU_SOURCE
---
> CPPFLAGS = -I/tools/include
198,201c206,209
< CFLAGS = -O -fomit-frame-pointer $(WARN)
< CFLAGS2 = -O2 -fomit-frame-pointer $(WARN)
< CFLAGSS = -Os -fomit-frame-pointer $(WARN)
< CFLAGSU = -O2 -fomit-frame-pointer -funroll-loops $(WARN)
---
> CFLAGS = -O -fcommon -fomit-frame-pointer $(WARN) -static
> CFLAGS2 = -O2 -fcommon -fomit-frame-pointer $(WARN) -static
> CFLAGSS = -Os -fcommon -fomit-frame-pointer $(WARN) -static
> CFLAGSU = -O2 -fcommon -fomit-frame-pointer -funroll-loops $(WARN) -static
225c233
< LNS = ln -s
---
> #LNS = ln -s
229c237
< #LNS = $(SHELL) -c "if cd \`dirname \$$2\`; then ln \$$1 \$$2; fi" dummy
---
> LNS = $(SHELL) -c "if cd \`dirname \$$2\`; then ln \$$1 \$$2; fi" dummy
diff -r orig/cpio/cpio.c heirloom-070715/cpio/cpio.c
99c99
< #include <sys/mkdev.h>
---
> #include <sys/sysmacros.h>
diff -r orig/echo/defs.h heirloom-070715/echo/defs.h
33a34
> #include <sys/stat.h>
diff -r orig/echo/echo.c heirloom-070715/echo/echo.c
39a40
> #include	<sys/stat.h>
diff -r orig/file/file.c heirloom-070715/file/file.c
70c70
< #include <sys/mkdev.h>
---
> #include <sys/sysmacros.h>
diff -r orig/find/find.c heirloom-070715/find/find.c
87c87
< #include <sys/mkdev.h>
---
> #include <sys/sysmacros.h>
diff -r orig/libcommon/getdir.c heirloom-070715/libcommon/getdir.c
37a38,39
> #include	<dirent.h>
> #include	<unistd.h>
62c64
< #include	<sys/dirent.h>
---
> /*#include	<sys/dirent.h>*/
diff -r orig/ls/ls.c heirloom-070715/ls/ls.c
93a94
> #include <sys/sysmacros.h>
diff -r orig/makefile heirloom-070715/makefile
4c4
< 	banner basename bc bdiff bfs \
---
> 	banner basename bdiff bfs \
6,7c6,7
< 	cksum cmp col comm copy cp cpio csplit cut \
< 	date dc dd deroff diff diff3 dircmp dirname df du \
---
> 	cksum cmp col comm copy cp csplit cut \
> 	date dd deroff dircmp dirname df du \
9c9
< 	factor file find fmt fmtmsg fold \
---
> 	find file factor fmt fmtmsg fold \
11c11
< 	kill line listusers ln logins logname ls \
---
> 	kill line listusers ls ln logins logname \
13c13
< 	nawk news nice nl nohup oawk od \
---
> 	news nice nl nohup oawk od \
17,18c17,31
< 	tabs tail tapecntl tar tcopy tee test time touch tr true tsort tty \
< 	ul uname uniq units users wc what who whoami whodo xargs yes
---
> 	tail tar tapecntl tcopy tee test time touch tr true tsort tty \
> 	ul uname uniq units users wc what who whoami whodo xargs yes 
> 
> 
> # Unknown type 'mode_t' or sys/mkdev.h
> # cpio 
> # Multiple definition of "idk_what"
> # cpio diff diff3 tabs
> # unknown type name intptr_t
> # nawk
> # Supplied by others:
> # nawk, bc/dc, diff{,3} 
> 
> SKIPDIR = bc cpio dc diff diff3  \
> 	  nawk tabs bc dc
diff -r orig/mknod/mknod.c heirloom-070715/mknod/mknod.c
49c49
< #include	<sys/mkdev.h>
---
> #include	<sys/sysmacros.h>
diff -r orig/su/su.c heirloom-070715/su/su.c
508c508
< 		fprintf(stderr, "%s: Sorry\n", progname);
---
> 		fprintf(stderr, "%s: gomenasai~\n", progname);
diff -r orig/tar/tar.c heirloom-070715/tar/tar.c
102c102
< #include <sys/mkdev.h>
---
> #include <sys/sysmacros.h>
diff -r orig/test/defs.h heirloom-070715/test/defs.h
33a34
> #include <sys/stat.h>
